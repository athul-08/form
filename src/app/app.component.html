<div class="a">
  <form name="form" 
   #f="ngForm" (ngSubmit)="f.form.valid && onSubmit()">

   <div class="form-group">
    <label>User Name</label>
    <input type="text"
    class="form-control"
    name="username"
    [(ngModel)]="form.username"
    required
    minlength="5"
    maxlength="20"
    pattern="^[a-zA-Z]+$"
    #username="ngModel"
    [ngClass]="{ 'is-valid': f.submitted && username.errors }"/>
    @if (f.submitted && username.errors) {
      <div class="invalid-feedback">
        
        @if (username.errors['required']) {
      <div>Username is required</div>
        }
        @if (username.errors['minlength']){
          <div>Username must be at least 6 characters</div>
        }
        @if (username.errors['maxlength']){
          <div>Username must be at most 20 characters</div>
        }
        @if (username.errors['pattern']){
          <div>Username must contain only alphabetic characters</div>
        }
      </div>
    }
  </div>

  
   <div class="form-group">
    <label>Email</label>
    <input type="email"
    class="form-control"
    name="email"
    [(ngModel)]="form.email"
    required
    #email="ngModel"
    [ngClass]="{ 'is-valid': f.submitted && email.errors }"/>
    @if (f.submitted && email.errors) {
      <div class="invalid-feedback">
        @if (email.errors['required']) {
      <div>email is required</div>
        }
        @if (email.errors['email']) {
          <div>email is invalid</div>
            }
      </div>
    }

  </div>
  <div class="form-group">
   <label>Address</label>
   <input type="text"
   class="form-control"
   name="address"
   [(ngModel)]="form.address"
   required
   #address="ngModel"
   [ngClass]="{ 'is-valid': f.submitted && address.errors }"/>
   @if (f.submitted && address.errors) {
     <div class="invalid-feedback">
       @if (address.errors['required']) {
     <div>address is required</div>
       }
     </div>
   }
  </div>
  
  <div class="form-group">
   <label>DOB</label>
   <input type="date"
   class="form-control"
   name="dob"
   [(ngModel)]="form.dob"
   required
   #dob="ngModel"
   [ngClass]="{ 'is-valid': f.submitted && dob.errors }"/>
   @if (f.submitted && dob.errors) {
     <div class="invalid-feedback">
       @if (dob.errors['required']) {
     <div>DOB is required</div>
       }
     </div>
   }
  </div>
   <div class="form-group">
    <label>Phone Number</label>
    <input type="tel"
    class="form-control"
    name="phone"
    [(ngModel)]="form.phone"
    required
    minlength="10"
    maxlength="13"
    pattern="[0-9]+"
    #phone="ngModel"
    [ngClass]="{ 'is-valid': f.submitted && phone.errors }"/>
    @if (f.submitted && phone.errors) {
      <div class="invalid-feedback">
        
        @if (phone.errors['required']) {
      <div>Phone Number is required</div>
        }
        @if (phone.errors['minlength']){
          <div>Phone Number must be at least 10 digits long.</div>
        }
        @if (phone.errors['maxlength']){
          <div>Phone Number cannot be more than 13 digits long.</div>
        }
        @if (phone.errors['pattern']){
          <div>Phone Number must contain only numbers.</div>
        }
      </div>
    }
   </div>

    <div class="form-group">
      <label>Password</label>
      <input type="password"
      class="form-control"
      name="password"
      [(ngModel)]="form.password"
      required
      minlength="4"
      maxlength="20"
      pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,20}$"
      #password="ngModel"
      [ngClass]="{ 'is-valid': f.submitted && password.errors }"/>
      @if (f.submitted && password.errors) {
        <div class="invalid-feedback">
          
          @if (password.errors['required']) {
        <div>Password is required</div>
          }
          @if (password.errors['minlength']){
            <div>Password must be at least 4 characters long.</div>
          }
          @if (password.errors['maxlength']){
            <div>Password cannot be more than 20 characters long</div>
          }
          @if (password.errors['pattern']){
            <div>Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character</div>
          }
        </div>
      }
</div> 
<button type="submit">Save</button>
  </form>

</div>
